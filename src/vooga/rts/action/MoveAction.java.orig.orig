package vooga.rts.action;

import vooga.rts.commands.ClickCommand;
import vooga.rts.commands.Command;
import vooga.rts.gamedesign.sprite.gamesprites.GameEntity;
import vooga.rts.gamedesign.sprite.gamesprites.interactive.InteractiveEntity;
<<<<<<< HEAD:src/vooga/rts/action/MoveAction.java
import vooga.rts.util.Camera;
import vooga.rts.util.Location3D;

public class MoveAction extends InteractiveAction {

    private Location3D myLocation;
    
    public MoveAction (InteractiveEntity ie) {
        super(ie);
    }
    
    @Override
    public void apply () {
        if (myLocation != null) {
            getEntity().move(myLocation);
        }
    }

    @Override
    public void update (Command command) {
        ClickCommand click = (ClickCommand) command;
        myLocation = Camera.instance().viewtoWorld(click.getPosition());
        if (myLocation.getX() < 0 || myLocation.getY() < 0) {
            myLocation = null;
        }
    }
=======
import vooga.rts.manager.Manager;
import vooga.rts.state.GameState;
import vooga.rts.util.Camera;
import vooga.rts.util.Location3D;


/**
 * This class needs to be pushed into any classes that can be moved, and be
 * mapped to the right click there.
 * 
 * @author Challen Herzberg-Brovold.
 * @author Ryan Fishel
 * 
 */
public class RightClickAction extends ManagerAction {

<<<<<<< HEAD:src/vooga/rts/action/MoveAction.java.orig
	private Location3D myLocation;

	public RightClickAction(Manager manager) {
		super(manager);
	}

	@Override
	public void apply() {
		if (myLocation != null) {
			for (InteractiveEntity ie : getManager().getSelected()) {
				InteractiveEntity enemy = GameState.getMap().getEntity(
						myLocation);
				if (enemy != null) {
					ie.recognize(enemy);
				} else {
					ie.move(myLocation);
				}
			}
		}
	}

	@Override
	public void update(Command command) {
		ClickCommand click = (ClickCommand) command;
		myLocation = Camera.instance().viewtoWorld(click.getPosition());
		if (myLocation.getX() < 0 || myLocation.getY() < 0) {
			myLocation = null;
		}
		apply();
	}
>>>>>>> 058692574e7547ff0f8ea1ed9e3c8add135208b9:src/vooga/rts/manager/actions/RightClickAction.java
=======
    private Location3D myLocation;

    public RightClickAction (Manager manager) {
        super(manager);
    }

    @Override
    public void apply () {
        if (myLocation != null) {
            for (InteractiveEntity ie : getManager().getSelected()) {
                GameEntity enemy = GameState.getMap().getEntity(myLocation);
                if (enemy != null) {
                    // ie.recognize(enemy);
                }
                else {
                    ie.move(myLocation);
                }
            }
        }
    }

    @Override
    public void update (Command command) {
        ClickCommand click = (ClickCommand) command;
        myLocation = Camera.instance().viewtoWorld(click.getPosition());
        if (myLocation.getX() < 0 || myLocation.getY() < 0) {
            myLocation = null;
        }
    }
>>>>>>> origin/networking-refactoring:src/vooga/rts/manager/actions/RightClickAction.java

}
